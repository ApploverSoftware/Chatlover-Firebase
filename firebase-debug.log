[debug] [2017-08-23T10:58:31.097Z] ----------------------------------------------------------------------
[debug] [2017-08-23T10:58:31.099Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only functions
[debug] [2017-08-23T10:58:31.099Z] CLI Version:   3.9.2
[debug] [2017-08-23T10:58:31.099Z] Platform:      linux
[debug] [2017-08-23T10:58:31.099Z] Node Version:  v8.3.0
[debug] [2017-08-23T10:58:31.099Z] Time:          Wed Aug 23 2017 12:58:31 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:31.099Z] ----------------------------------------------------------------------
[debug] 
[debug] [2017-08-23T10:58:31.114Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2017-08-23T10:58:31.115Z] > authorizing via signed-in user
[debug] [2017-08-23T10:58:31.116Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/projects/chatlover-2d1c6  
 Wed Aug 23 2017 12:58:31 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:32.140Z] <<< HTTP RESPONSE 200
[debug] [2017-08-23T10:58:32.142Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/database/chatlover-2d1c6/tokens  
 Wed Aug 23 2017 12:58:32 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:33.206Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'chatlover-2d1c6'...
[info] 
[info] i  deploying functions
[debug] [2017-08-23T10:58:34.855Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "dependencies": {
    "cors": "^2.8.4",
    "firebase-admin": "~4.2.1",
    "firebase-functions": "^0.5.7"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[info] i  runtimeconfig: ensuring necessary APIs are enabled...
[debug] [2017-08-23T10:58:34.857Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/chatlover-2d1c6?view=CONSUMER_VIEW  
 Wed Aug 23 2017 12:58:34 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:34.857Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/chatlover-2d1c6?view=CONSUMER_VIEW  
 Wed Aug 23 2017 12:58:34 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:36.300Z] <<< HTTP RESPONSE 200
[info] ✔  runtimeconfig: all necessary APIs are enabled
[debug] [2017-08-23T10:58:36.323Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2017-08-23T10:58:36.325Z] >>> HTTP REQUEST GET https://appengine.googleapis.com/v1/apps/chatlover-2d1c6  
 Wed Aug 23 2017 12:58:36 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:36.326Z] >>> HTTP REQUEST GET https://apikeys.googleapis.com/v1/projects/chatlover-2d1c6/apiKeys  
 Wed Aug 23 2017 12:58:36 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:38.248Z] <<< HTTP RESPONSE 200
[debug] [2017-08-23T10:58:38.326Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2017-08-23T10:58:38.544Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/chatlover-2d1c6/configs  
 Wed Aug 23 2017 12:58:38 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:39.713Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (8.21 KB) for uploading
[debug] [2017-08-23T10:58:40.312Z] >>> HTTP REQUEST GET https://www.googleapis.com/storage/v1/b/staging.chatlover-2d1c6.appspot.com  
 Wed Aug 23 2017 12:58:40 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:40.669Z] <<< HTTP RESPONSE 200
[debug] [2017-08-23T10:58:40.670Z] >>> HTTP REQUEST POST https://www.googleapis.com/upload/storage/v1/b/staging.chatlover-2d1c6.appspot.com/o?uploadType=media&name=firebase-functions-source ReadStream {
  _readableState: 
   ReadableState {
     objectMode: false,
     highWaterMark: 65536,
     buffer: BufferList { head: [Object], tail: [Object], length: 1 },
     length: 8412,
     pipes: null,
     pipesCount: 0,
     flowing: null,
     ended: true,
     endEmitted: false,
     reading: false,
     sync: false,
     needReadable: false,
     emittedReadable: true,
     readableListening: false,
     resumeScheduled: false,
     destroyed: false,
     defaultEncoding: 'utf8',
     awaitDrain: 0,
     readingMore: false,
     decoder: null,
     encoding: null },
  readable: true,
  domain: null,
  _events: { end: [Function] },
  _eventsCount: 1,
  _maxListeners: undefined,
  path: '/tmp/firebase-functions-14421y7go206Wk0Nd.zip',
  fd: 15,
  flags: 'r',
  mode: 438,
  start: undefined,
  end: undefined,
  autoClose: true,
  pos: undefined,
  bytesRead: 8412 } 
 Wed Aug 23 2017 12:58:40 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:41.389Z] <<< HTTP RESPONSE 200
[info] ✔  functions: functions folder uploaded successfully
[info] i  starting release process (may take several minutes)...
[debug] [2017-08-23T10:58:41.394Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1beta2/projects/chatlover-2d1c6/locations/us-central1/functions  
 Wed Aug 23 2017 12:58:41 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:42.465Z] <<< HTTP RESPONSE 200
[info] i  functions: updating function sendNotification...
[debug] [2017-08-23T10:58:42.474Z] Trigger is: 
[info] i  functions: updating function indexUserChannels...
[debug] [2017-08-23T10:58:42.476Z] Trigger is: 
[info] i  functions: updating function makeChannel...
[debug] [2017-08-23T10:58:42.477Z] Trigger is: 
[info] i  functions: updating function syncFcmToken...
[debug] [2017-08-23T10:58:42.478Z] Trigger is: 
[info] i  functions: updating function syncAvatar...
[debug] [2017-08-23T10:58:42.478Z] Trigger is: 
[info] i  functions: updating function syncName...
[debug] [2017-08-23T10:58:42.479Z] Trigger is: 
[debug] [2017-08-23T10:58:42.479Z] >>> HTTP REQUEST PUT https://cloudfunctions.googleapis.com/v1beta2/projects/chatlover-2d1c6/locations/us-central1/functions/sendNotification { sourceArchiveUrl: 'gs://staging.chatlover-2d1c6.appspot.com/firebase-functions-source',
  name: 'projects/chatlover-2d1c6/locations/us-central1/functions/sendNotification',
  entryPoint: 'sendNotification',
  timeout: '60s',
  availableMemoryMb: 256,
  eventTrigger: 
   { resource: 'projects/_/instances/chatlover-2d1c6/refs/channels/{channelId}/messages/{messageId}',
     eventType: 'providers/google.firebase.database/eventTypes/ref.create' } } 
 Wed Aug 23 2017 12:58:42 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:42.480Z] >>> HTTP REQUEST PUT https://cloudfunctions.googleapis.com/v1beta2/projects/chatlover-2d1c6/locations/us-central1/functions/indexUserChannels { sourceArchiveUrl: 'gs://staging.chatlover-2d1c6.appspot.com/firebase-functions-source',
  name: 'projects/chatlover-2d1c6/locations/us-central1/functions/indexUserChannels',
  entryPoint: 'indexUserChannels',
  timeout: '60s',
  availableMemoryMb: 256,
  eventTrigger: 
   { resource: 'projects/_/instances/chatlover-2d1c6/refs/channels/{channelId}',
     eventType: 'providers/google.firebase.database/eventTypes/ref.write' } } 
 Wed Aug 23 2017 12:58:42 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:42.480Z] >>> HTTP REQUEST PUT https://cloudfunctions.googleapis.com/v1beta2/projects/chatlover-2d1c6/locations/us-central1/functions/makeChannel { sourceArchiveUrl: 'gs://staging.chatlover-2d1c6.appspot.com/firebase-functions-source',
  name: 'projects/chatlover-2d1c6/locations/us-central1/functions/makeChannel',
  entryPoint: 'makeChannel',
  timeout: '60s',
  availableMemoryMb: 256,
  httpsTrigger: {} } 
 Wed Aug 23 2017 12:58:42 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:42.481Z] >>> HTTP REQUEST PUT https://cloudfunctions.googleapis.com/v1beta2/projects/chatlover-2d1c6/locations/us-central1/functions/syncFcmToken { sourceArchiveUrl: 'gs://staging.chatlover-2d1c6.appspot.com/firebase-functions-source',
  name: 'projects/chatlover-2d1c6/locations/us-central1/functions/syncFcmToken',
  entryPoint: 'syncFcmToken',
  timeout: '60s',
  availableMemoryMb: 256,
  eventTrigger: 
   { resource: 'projects/_/instances/chatlover-2d1c6/refs/users/{uid}/fcmToken',
     eventType: 'providers/google.firebase.database/eventTypes/ref.write' } } 
 Wed Aug 23 2017 12:58:42 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:42.481Z] >>> HTTP REQUEST PUT https://cloudfunctions.googleapis.com/v1beta2/projects/chatlover-2d1c6/locations/us-central1/functions/syncAvatar { sourceArchiveUrl: 'gs://staging.chatlover-2d1c6.appspot.com/firebase-functions-source',
  name: 'projects/chatlover-2d1c6/locations/us-central1/functions/syncAvatar',
  entryPoint: 'syncAvatar',
  timeout: '60s',
  availableMemoryMb: 256,
  eventTrigger: 
   { resource: 'projects/_/instances/chatlover-2d1c6/refs/users/{uid}/profile_pic',
     eventType: 'providers/google.firebase.database/eventTypes/ref.write' } } 
 Wed Aug 23 2017 12:58:42 GMT+0200 (CEST)
[debug] [2017-08-23T10:58:42.481Z] >>> HTTP REQUEST PUT https://cloudfunctions.googleapis.com/v1beta2/projects/chatlover-2d1c6/locations/us-central1/functions/syncName { sourceArchiveUrl: 'gs://staging.chatlover-2d1c6.appspot.com/firebase-functions-source',
  name: 'projects/chatlover-2d1c6/locations/us-central1/functions/syncName',
  entryPoint: 'syncName',
  timeout: '60s',
  availableMemoryMb: 256,
  eventTrigger: 
   { resource: 'projects/_/instances/chatlover-2d1c6/refs/users/{uid}/nickname',
     eventType: 'providers/google.firebase.database/eventTypes/ref.write' } } 
 Wed Aug 23 2017 12:58:42 GMT+0200 (CEST)
